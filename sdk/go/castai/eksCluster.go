// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package castai

import (
	"context"
	"reflect"

	"errors"
	"github.com/cast-ai/pulumi-castai/sdk/go/castai/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// EKS cluster resource allows connecting an existing EKS cluster to CAST AI.
type EksCluster struct {
	pulumi.CustomResourceState

	// AWS access key ID of the CAST AI IAM account
	AccessKeyId pulumi.StringPtrOutput `pulumi:"accessKeyId"`
	// ID of AWS account
	AccountId pulumi.StringOutput `pulumi:"accountId"`
	// Deprecated: agent_token is deprecated, use clusterToken instead
	AgentToken pulumi.StringOutput `pulumi:"agentToken"`
	// AWS ARN for assume role that should be used instead of IAM account
	AssumeRoleArn pulumi.StringPtrOutput `pulumi:"assumeRoleArn"`
	// CAST AI internal credentials ID
	CredentialsId pulumi.StringOutput `pulumi:"credentialsId"`
	// Should CAST AI remove nodes managed by CAST AI on disconnect
	DeleteNodesOnDisconnect pulumi.BoolPtrOutput `pulumi:"deleteNodesOnDisconnect"`
	// Overrides the IP address to use for DNS queries within the cluster. Defaults to 10.100.0.10 or 172.20.0.10 based on the IP address of the primary interface
	DnsClusterIp pulumi.StringPtrOutput `pulumi:"dnsClusterIp"`
	// AWS ARN of the instance profile to be used by CAST AI
	InstanceProfileArn pulumi.StringPtrOutput `pulumi:"instanceProfileArn"`
	// name of your EKS cluster
	Name pulumi.StringOutput `pulumi:"name"`
	// Optional custom security groups for the cluster. If not set security groups from the EKS cluster configuration are used.
	OverrideSecurityGroups pulumi.StringArrayOutput `pulumi:"overrideSecurityGroups"`
	// AWS region where the cluster is placed
	Region pulumi.StringOutput `pulumi:"region"`
	// AWS secret access key of the CAST AI IAM account
	SecretAccessKey pulumi.StringPtrOutput `pulumi:"secretAccessKey"`
	// IDs of security groups that are used by CAST AI
	SecurityGroups pulumi.StringArrayOutput `pulumi:"securityGroups"`
	// Accepted values are base64 encoded SSH public key or AWS key pair ID.
	SshPublicKey pulumi.StringPtrOutput `pulumi:"sshPublicKey"`
	// Custom subnets for the cluster. If not set subnets from the EKS cluster configuration are used.
	Subnets pulumi.StringArrayOutput `pulumi:"subnets"`
	// Tags which should be added to CAST AI nodes
	Tags pulumi.StringMapOutput `pulumi:"tags"`
}

// NewEksCluster registers a new resource with the given unique name, arguments, and options.
func NewEksCluster(ctx *pulumi.Context,
	name string, args *EksClusterArgs, opts ...pulumi.ResourceOption) (*EksCluster, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.AccountId == nil {
		return nil, errors.New("invalid value for required argument 'AccountId'")
	}
	if args.Region == nil {
		return nil, errors.New("invalid value for required argument 'Region'")
	}
	if args.AccessKeyId != nil {
		args.AccessKeyId = pulumi.ToSecret(args.AccessKeyId).(pulumi.StringPtrInput)
	}
	if args.SecretAccessKey != nil {
		args.SecretAccessKey = pulumi.ToSecret(args.SecretAccessKey).(pulumi.StringPtrInput)
	}
	secrets := pulumi.AdditionalSecretOutputs([]string{
		"accessKeyId",
		"agentToken",
		"secretAccessKey",
	})
	opts = append(opts, secrets)
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource EksCluster
	err := ctx.RegisterResource("castai:aws:EksCluster", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetEksCluster gets an existing EksCluster resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetEksCluster(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *EksClusterState, opts ...pulumi.ResourceOption) (*EksCluster, error) {
	var resource EksCluster
	err := ctx.ReadResource("castai:aws:EksCluster", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering EksCluster resources.
type eksClusterState struct {
	// AWS access key ID of the CAST AI IAM account
	AccessKeyId *string `pulumi:"accessKeyId"`
	// ID of AWS account
	AccountId *string `pulumi:"accountId"`
	// Deprecated: agent_token is deprecated, use clusterToken instead
	AgentToken *string `pulumi:"agentToken"`
	// AWS ARN for assume role that should be used instead of IAM account
	AssumeRoleArn *string `pulumi:"assumeRoleArn"`
	// CAST AI internal credentials ID
	CredentialsId *string `pulumi:"credentialsId"`
	// Should CAST AI remove nodes managed by CAST AI on disconnect
	DeleteNodesOnDisconnect *bool `pulumi:"deleteNodesOnDisconnect"`
	// Overrides the IP address to use for DNS queries within the cluster. Defaults to 10.100.0.10 or 172.20.0.10 based on the IP address of the primary interface
	DnsClusterIp *string `pulumi:"dnsClusterIp"`
	// AWS ARN of the instance profile to be used by CAST AI
	InstanceProfileArn *string `pulumi:"instanceProfileArn"`
	// name of your EKS cluster
	Name *string `pulumi:"name"`
	// Optional custom security groups for the cluster. If not set security groups from the EKS cluster configuration are used.
	OverrideSecurityGroups []string `pulumi:"overrideSecurityGroups"`
	// AWS region where the cluster is placed
	Region *string `pulumi:"region"`
	// AWS secret access key of the CAST AI IAM account
	SecretAccessKey *string `pulumi:"secretAccessKey"`
	// IDs of security groups that are used by CAST AI
	SecurityGroups []string `pulumi:"securityGroups"`
	// Accepted values are base64 encoded SSH public key or AWS key pair ID.
	SshPublicKey *string `pulumi:"sshPublicKey"`
	// Custom subnets for the cluster. If not set subnets from the EKS cluster configuration are used.
	Subnets []string `pulumi:"subnets"`
	// Tags which should be added to CAST AI nodes
	Tags map[string]string `pulumi:"tags"`
}

type EksClusterState struct {
	// AWS access key ID of the CAST AI IAM account
	AccessKeyId pulumi.StringPtrInput
	// ID of AWS account
	AccountId pulumi.StringPtrInput
	// Deprecated: agent_token is deprecated, use clusterToken instead
	AgentToken pulumi.StringPtrInput
	// AWS ARN for assume role that should be used instead of IAM account
	AssumeRoleArn pulumi.StringPtrInput
	// CAST AI internal credentials ID
	CredentialsId pulumi.StringPtrInput
	// Should CAST AI remove nodes managed by CAST AI on disconnect
	DeleteNodesOnDisconnect pulumi.BoolPtrInput
	// Overrides the IP address to use for DNS queries within the cluster. Defaults to 10.100.0.10 or 172.20.0.10 based on the IP address of the primary interface
	DnsClusterIp pulumi.StringPtrInput
	// AWS ARN of the instance profile to be used by CAST AI
	InstanceProfileArn pulumi.StringPtrInput
	// name of your EKS cluster
	Name pulumi.StringPtrInput
	// Optional custom security groups for the cluster. If not set security groups from the EKS cluster configuration are used.
	OverrideSecurityGroups pulumi.StringArrayInput
	// AWS region where the cluster is placed
	Region pulumi.StringPtrInput
	// AWS secret access key of the CAST AI IAM account
	SecretAccessKey pulumi.StringPtrInput
	// IDs of security groups that are used by CAST AI
	SecurityGroups pulumi.StringArrayInput
	// Accepted values are base64 encoded SSH public key or AWS key pair ID.
	SshPublicKey pulumi.StringPtrInput
	// Custom subnets for the cluster. If not set subnets from the EKS cluster configuration are used.
	Subnets pulumi.StringArrayInput
	// Tags which should be added to CAST AI nodes
	Tags pulumi.StringMapInput
}

func (EksClusterState) ElementType() reflect.Type {
	return reflect.TypeOf((*eksClusterState)(nil)).Elem()
}

type eksClusterArgs struct {
	// AWS access key ID of the CAST AI IAM account
	AccessKeyId *string `pulumi:"accessKeyId"`
	// ID of AWS account
	AccountId string `pulumi:"accountId"`
	// AWS ARN for assume role that should be used instead of IAM account
	AssumeRoleArn *string `pulumi:"assumeRoleArn"`
	// Should CAST AI remove nodes managed by CAST AI on disconnect
	DeleteNodesOnDisconnect *bool `pulumi:"deleteNodesOnDisconnect"`
	// Overrides the IP address to use for DNS queries within the cluster. Defaults to 10.100.0.10 or 172.20.0.10 based on the IP address of the primary interface
	DnsClusterIp *string `pulumi:"dnsClusterIp"`
	// AWS ARN of the instance profile to be used by CAST AI
	InstanceProfileArn *string `pulumi:"instanceProfileArn"`
	// name of your EKS cluster
	Name *string `pulumi:"name"`
	// Optional custom security groups for the cluster. If not set security groups from the EKS cluster configuration are used.
	OverrideSecurityGroups []string `pulumi:"overrideSecurityGroups"`
	// AWS region where the cluster is placed
	Region string `pulumi:"region"`
	// AWS secret access key of the CAST AI IAM account
	SecretAccessKey *string `pulumi:"secretAccessKey"`
	// Accepted values are base64 encoded SSH public key or AWS key pair ID.
	SshPublicKey *string `pulumi:"sshPublicKey"`
	// Custom subnets for the cluster. If not set subnets from the EKS cluster configuration are used.
	Subnets []string `pulumi:"subnets"`
	// Tags which should be added to CAST AI nodes
	Tags map[string]string `pulumi:"tags"`
}

// The set of arguments for constructing a EksCluster resource.
type EksClusterArgs struct {
	// AWS access key ID of the CAST AI IAM account
	AccessKeyId pulumi.StringPtrInput
	// ID of AWS account
	AccountId pulumi.StringInput
	// AWS ARN for assume role that should be used instead of IAM account
	AssumeRoleArn pulumi.StringPtrInput
	// Should CAST AI remove nodes managed by CAST AI on disconnect
	DeleteNodesOnDisconnect pulumi.BoolPtrInput
	// Overrides the IP address to use for DNS queries within the cluster. Defaults to 10.100.0.10 or 172.20.0.10 based on the IP address of the primary interface
	DnsClusterIp pulumi.StringPtrInput
	// AWS ARN of the instance profile to be used by CAST AI
	InstanceProfileArn pulumi.StringPtrInput
	// name of your EKS cluster
	Name pulumi.StringPtrInput
	// Optional custom security groups for the cluster. If not set security groups from the EKS cluster configuration are used.
	OverrideSecurityGroups pulumi.StringArrayInput
	// AWS region where the cluster is placed
	Region pulumi.StringInput
	// AWS secret access key of the CAST AI IAM account
	SecretAccessKey pulumi.StringPtrInput
	// Accepted values are base64 encoded SSH public key or AWS key pair ID.
	SshPublicKey pulumi.StringPtrInput
	// Custom subnets for the cluster. If not set subnets from the EKS cluster configuration are used.
	Subnets pulumi.StringArrayInput
	// Tags which should be added to CAST AI nodes
	Tags pulumi.StringMapInput
}

func (EksClusterArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*eksClusterArgs)(nil)).Elem()
}

type EksClusterInput interface {
	pulumi.Input

	ToEksClusterOutput() EksClusterOutput
	ToEksClusterOutputWithContext(ctx context.Context) EksClusterOutput
}

func (*EksCluster) ElementType() reflect.Type {
	return reflect.TypeOf((**EksCluster)(nil)).Elem()
}

func (i *EksCluster) ToEksClusterOutput() EksClusterOutput {
	return i.ToEksClusterOutputWithContext(context.Background())
}

func (i *EksCluster) ToEksClusterOutputWithContext(ctx context.Context) EksClusterOutput {
	return pulumi.ToOutputWithContext(ctx, i).(EksClusterOutput)
}

// EksClusterArrayInput is an input type that accepts EksClusterArray and EksClusterArrayOutput values.
// You can construct a concrete instance of `EksClusterArrayInput` via:
//
//	EksClusterArray{ EksClusterArgs{...} }
type EksClusterArrayInput interface {
	pulumi.Input

	ToEksClusterArrayOutput() EksClusterArrayOutput
	ToEksClusterArrayOutputWithContext(context.Context) EksClusterArrayOutput
}

type EksClusterArray []EksClusterInput

func (EksClusterArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*EksCluster)(nil)).Elem()
}

func (i EksClusterArray) ToEksClusterArrayOutput() EksClusterArrayOutput {
	return i.ToEksClusterArrayOutputWithContext(context.Background())
}

func (i EksClusterArray) ToEksClusterArrayOutputWithContext(ctx context.Context) EksClusterArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(EksClusterArrayOutput)
}

// EksClusterMapInput is an input type that accepts EksClusterMap and EksClusterMapOutput values.
// You can construct a concrete instance of `EksClusterMapInput` via:
//
//	EksClusterMap{ "key": EksClusterArgs{...} }
type EksClusterMapInput interface {
	pulumi.Input

	ToEksClusterMapOutput() EksClusterMapOutput
	ToEksClusterMapOutputWithContext(context.Context) EksClusterMapOutput
}

type EksClusterMap map[string]EksClusterInput

func (EksClusterMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*EksCluster)(nil)).Elem()
}

func (i EksClusterMap) ToEksClusterMapOutput() EksClusterMapOutput {
	return i.ToEksClusterMapOutputWithContext(context.Background())
}

func (i EksClusterMap) ToEksClusterMapOutputWithContext(ctx context.Context) EksClusterMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(EksClusterMapOutput)
}

type EksClusterOutput struct{ *pulumi.OutputState }

func (EksClusterOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**EksCluster)(nil)).Elem()
}

func (o EksClusterOutput) ToEksClusterOutput() EksClusterOutput {
	return o
}

func (o EksClusterOutput) ToEksClusterOutputWithContext(ctx context.Context) EksClusterOutput {
	return o
}

// AWS access key ID of the CAST AI IAM account
func (o EksClusterOutput) AccessKeyId() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *EksCluster) pulumi.StringPtrOutput { return v.AccessKeyId }).(pulumi.StringPtrOutput)
}

// ID of AWS account
func (o EksClusterOutput) AccountId() pulumi.StringOutput {
	return o.ApplyT(func(v *EksCluster) pulumi.StringOutput { return v.AccountId }).(pulumi.StringOutput)
}

// Deprecated: agent_token is deprecated, use clusterToken instead
func (o EksClusterOutput) AgentToken() pulumi.StringOutput {
	return o.ApplyT(func(v *EksCluster) pulumi.StringOutput { return v.AgentToken }).(pulumi.StringOutput)
}

// AWS ARN for assume role that should be used instead of IAM account
func (o EksClusterOutput) AssumeRoleArn() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *EksCluster) pulumi.StringPtrOutput { return v.AssumeRoleArn }).(pulumi.StringPtrOutput)
}

// CAST AI internal credentials ID
func (o EksClusterOutput) CredentialsId() pulumi.StringOutput {
	return o.ApplyT(func(v *EksCluster) pulumi.StringOutput { return v.CredentialsId }).(pulumi.StringOutput)
}

// Should CAST AI remove nodes managed by CAST AI on disconnect
func (o EksClusterOutput) DeleteNodesOnDisconnect() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *EksCluster) pulumi.BoolPtrOutput { return v.DeleteNodesOnDisconnect }).(pulumi.BoolPtrOutput)
}

// Overrides the IP address to use for DNS queries within the cluster. Defaults to 10.100.0.10 or 172.20.0.10 based on the IP address of the primary interface
func (o EksClusterOutput) DnsClusterIp() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *EksCluster) pulumi.StringPtrOutput { return v.DnsClusterIp }).(pulumi.StringPtrOutput)
}

// AWS ARN of the instance profile to be used by CAST AI
func (o EksClusterOutput) InstanceProfileArn() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *EksCluster) pulumi.StringPtrOutput { return v.InstanceProfileArn }).(pulumi.StringPtrOutput)
}

// name of your EKS cluster
func (o EksClusterOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *EksCluster) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// Optional custom security groups for the cluster. If not set security groups from the EKS cluster configuration are used.
func (o EksClusterOutput) OverrideSecurityGroups() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *EksCluster) pulumi.StringArrayOutput { return v.OverrideSecurityGroups }).(pulumi.StringArrayOutput)
}

// AWS region where the cluster is placed
func (o EksClusterOutput) Region() pulumi.StringOutput {
	return o.ApplyT(func(v *EksCluster) pulumi.StringOutput { return v.Region }).(pulumi.StringOutput)
}

// AWS secret access key of the CAST AI IAM account
func (o EksClusterOutput) SecretAccessKey() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *EksCluster) pulumi.StringPtrOutput { return v.SecretAccessKey }).(pulumi.StringPtrOutput)
}

// IDs of security groups that are used by CAST AI
func (o EksClusterOutput) SecurityGroups() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *EksCluster) pulumi.StringArrayOutput { return v.SecurityGroups }).(pulumi.StringArrayOutput)
}

// Accepted values are base64 encoded SSH public key or AWS key pair ID.
func (o EksClusterOutput) SshPublicKey() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *EksCluster) pulumi.StringPtrOutput { return v.SshPublicKey }).(pulumi.StringPtrOutput)
}

// Custom subnets for the cluster. If not set subnets from the EKS cluster configuration are used.
func (o EksClusterOutput) Subnets() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *EksCluster) pulumi.StringArrayOutput { return v.Subnets }).(pulumi.StringArrayOutput)
}

// Tags which should be added to CAST AI nodes
func (o EksClusterOutput) Tags() pulumi.StringMapOutput {
	return o.ApplyT(func(v *EksCluster) pulumi.StringMapOutput { return v.Tags }).(pulumi.StringMapOutput)
}

type EksClusterArrayOutput struct{ *pulumi.OutputState }

func (EksClusterArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*EksCluster)(nil)).Elem()
}

func (o EksClusterArrayOutput) ToEksClusterArrayOutput() EksClusterArrayOutput {
	return o
}

func (o EksClusterArrayOutput) ToEksClusterArrayOutputWithContext(ctx context.Context) EksClusterArrayOutput {
	return o
}

func (o EksClusterArrayOutput) Index(i pulumi.IntInput) EksClusterOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *EksCluster {
		return vs[0].([]*EksCluster)[vs[1].(int)]
	}).(EksClusterOutput)
}

type EksClusterMapOutput struct{ *pulumi.OutputState }

func (EksClusterMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*EksCluster)(nil)).Elem()
}

func (o EksClusterMapOutput) ToEksClusterMapOutput() EksClusterMapOutput {
	return o
}

func (o EksClusterMapOutput) ToEksClusterMapOutputWithContext(ctx context.Context) EksClusterMapOutput {
	return o
}

func (o EksClusterMapOutput) MapIndex(k pulumi.StringInput) EksClusterOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *EksCluster {
		return vs[0].(map[string]*EksCluster)[vs[1].(string)]
	}).(EksClusterOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*EksClusterInput)(nil)).Elem(), &EksCluster{})
	pulumi.RegisterInputType(reflect.TypeOf((*EksClusterArrayInput)(nil)).Elem(), EksClusterArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*EksClusterMapInput)(nil)).Elem(), EksClusterMap{})
	pulumi.RegisterOutputType(EksClusterOutput{})
	pulumi.RegisterOutputType(EksClusterArrayOutput{})
	pulumi.RegisterOutputType(EksClusterMapOutput{})
}
